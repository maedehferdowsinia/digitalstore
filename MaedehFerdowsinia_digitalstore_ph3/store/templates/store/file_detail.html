{% extends "store/base.html" %}

{% block title %}
{{ file.title }} | Digital Store
{% endblock %}

{% block content %}

<h2>{{ file.title }}</h2>

<p><strong>ØªÙˆØ¶ÛŒØ­:</strong> {{ file.description }}</p>
<p><strong>Ù†ÙˆØ¹ ÙØ§ÛŒÙ„:</strong> {{ file.get_file_type_display }}</p>
<p><strong>Ù‚ÛŒÙ…Øª:</strong> {{ file.price }} ØªÙˆÙ…Ø§Ù†</p>

<hr>

{% if file.file_type == 'article' and file.article %}
    <h3>Ù…Ø´Ø®ØµØ§Øª Ù…Ù‚Ø§Ù„Ù‡</h3>
    <p>Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ: {{ file.article.keywords }}</p>
    <p>ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª: {{ file.article.pages }}</p>

{% elif file.file_type == 'book' and file.book %}
    <h3>Ù…Ø´Ø®ØµØ§Øª Ú©ØªØ§Ø¨</h3>
    <p>Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡: {{ file.book.author }}</p>
    <p>ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª: {{ file.book.pages }}</p>

{% elif file.file_type == 'music' and file.music %}
    <h3>Ù…Ø´Ø®ØµØ§Øª Ù…ÙˆØ³ÛŒÙ‚ÛŒ</h3>
    <p>Ù…Ø¯Øª Ø²Ù…Ø§Ù†: {{ file.music.duration }}</p>
    <p>ÙØ±Ù…Øª: {{ file.music.format }}</p>

{% elif file.file_type == 'image' and file.image %}
    <h3>Ù…Ø´Ø®ØµØ§Øª ØªØµÙˆÛŒØ±</h3>
    <p>Ø§Ø¨Ø¹Ø§Ø¯: {{ file.image.width }} Ã— {{ file.image.height }}</p>
    <p>ÙØ±Ù…Øª: {{ file.image.format }}</p>
{% endif %}

<hr>

{% if user.is_authenticated %}
    {% if user == file.seller %}
        <p>ğŸ‘¤ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ø´Ù…Ø§Ø³Øª</p>

    {% elif already_purchased %}
        <a href="{% url 'store:download_file' file.id %}">
            <button>â¬‡ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„</button>
        </a>

    {% else %}
        <a href="{% url 'store:add_to_cart' file.id %}">
            <button>â• Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯</button>
        </a>
    {% endif %}
{% endif %}

{% endblock %}
